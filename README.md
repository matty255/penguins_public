
# 🏁 Goal: 매거진 사이트 제작!

- step 1. 이미지 기반의 서버리스 매거진 사이트 penguins
- step 2. mock API 적용으로 더미데이터와 연결할 수 있게 고치기
- step 3. 완성된 백엔드와 실제로 연결해보기
- step 4. 렌더링 속도 개선하기 (LCP 4.2 -> 1.8 -> 0.9)

## step 1 완성 : 보러가기
### firebase + github actions hosting : [Click!](https://penguins-test.firebaseapp.com/)

## 필수 기능 목록

1. 게시글 
    - 목록 가져오기✅
    - 추가하기 (+이미지 업로드하기)✅
    - 삭제하기 ✅
    - 수정하기 ✅
2. 좋아요
    - 게시글에 좋아요하기 ✅
    - 게시글에 좋아요 취소하기 ✅
3. 회원가입하기 ✅
4. 로그인하기 ✅

5. 예외처리
    - 로그인 한 사용자가 로그인 페이지 또는 회원가입 페이지에 접속한 경우 
    - "이미 로그인이 되어있습니다."라는 메세지를 띄우고 `전체 게시글 목록 조회 페이지`로 이동시킬 수 있도록 예외처리하기 ✅
    - 로그인하지 않은 사용자가 좋아요 버튼을 눌렀을 경우, "로그인이 필요합니다." 라는 메세지를 띄워주기 ✅
6. 파이어베이스 or S3로 배포! ✅


## 페이지별 상세 조건

1. 회원가입 페이지
    1. 이메일 형식 체크, 비밀번호 체크 ✅
2. 로그인 페이지
    1. 이메일, 패스워드 미기입 시 로그인 버튼 비활성화 + 비활성화 css 보여주기 ✅
3. 메인 페이지(게시글 목록 페이지)
    1. 카드형 게시글 목록 노출 ✅
    2. 무한 스크롤 ✅
    3. 각 컨텐츠는 작성자, 작성 시간, 이미지프리뷰, 텍스트 내용으로 구성 ✅
    4. 게시글의 댓글보기 클릭 시, 각 게시글의 상세 페이지로 이동 ✅
    5. 게시글에서 좋아요 버튼을 누르면 [좋아요]를 +1한다. 다시 누르면 빈 하트가 되고 좋아요가 -1개 되게 ✅   
    6. 반응형 적용 ✅
4. 포스트 작성 페이지
    1. 레이아웃 선택 버튼
        1. 3가지 레이아웃 중 선택하도록 한다.
            - 이미지가 오른편에, 텍스트는 왼편에 위치한 레이아웃 ✅  
            - 이미지가 왼편에, 텍스트는 오른편에 위치한 레이아웃 ✅  
            - 텍스트가 위에, 이미지는 아래에 위치한 레이아웃 ✅  
        2. 레이아웃 선택 시, 게시글 레이아웃(모양새)대로 메인 페이지에서 보이도록 한다.  
         **텍스트, 이미지 중 입력 안된 게 있다면 게시글 작성 버튼 비활성화** ✅  
    2. 작성 완료 시 메인 페이지로 이동 ✅  
    3. 메인페이지로 이동시 스피너 + 스크롤로 위치를 초기화 시켜주기 ✅  
5. 게시글 상세 페이지
    1. 게시글 레이아웃에 맞춰 이미지, 텍스트 위치 조절해서 노출 ✅  
    2. 상세페이지에서는 그림이 크게 잘보이게 ✅  
    3. 반응형 적용 ✅  
6. 알림 페이지
    1. 내가 올린 게시글에 좋아요나 댓글이 달렸을때 실시간 알림으로 보여주기 ✅  
    2. 반응형 적용 ✅  

## step 3 백엔드와 도킹 성공! 

- 가입 양식이라던지 서로 과제가 다른 점이 있어서 레파지토리 하나를 새로 팠습니다.
보러가기 [Click!](https://github.com/matty255/penguins_axios)


## step 4 성공! 

LCP 4.2초 -> 1.8 ~ 2.0초 (크롬 플러그인으로 돌렸을 때)
이 사이트에서 돌리면 0.9초 https://pagespeed.web.dev/ 여기서 돌리세여

 - 시도한 방법 1. 스피너 의무적으로 3초 띄웠던거 삭제하고 랜딩페이지(App.js랑 PostList.js, Header.js)에 리액트 내장 플러그인인 lazy, Suspense 사용!  
 
 - 시도한 방법 2. 사용하지 않는 import된 모듈들 제거하고 쓰지 않는 것들은 package.json에서 yarn remove로 다 삭제 
 
 - 시도한 방법 3. 헤더 컴포넌트에서 비로그인 유저부분만 간소화 (그냥 모양만 만들어두었던 유저프로필 부분 주석처리라던지..) 
 
 - 시도한 방법 4. 여기까지 해도 2.5초여서 LCP부분을 뜯어봤더니 발견한 사실... 크롬 개발자도구로 라이트하우스를 돌리면 내 크롬브라우저에서 돌아가는 중인 플러그인도 로딩에 포함된다고 함. 걔들이 0.5 - 0.7초를 먹고 있었던 것! 확장프로그램 사용안하는 것들 전부 끄고 다시 돌리자 1.8 - 2초대 까지는 나왔는데 LCP를 측정할 수 있는 사이트에 주소를 줘서 돌리면 더 낫지 않을까 하는 생각이 들어 사이트를 찾아보았습니다. 있었습니다.  
 

시도하지 않은 방법 : 웹팩을 뜯어서 번들 압축설정도 바꿀 수 있다고 하던데 이미 충분한 성능이 나왔으므로 멈췄습니다.
